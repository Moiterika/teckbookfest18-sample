# memo

Copilot Agentとのやり取りを記録します

## 方針（人間）

- 配賦基準集計
  - 勤務表集計ツール
- 原価要素&配賦ルール設定
- コストセンター（コストプール）の一覧化
- 製造部門、補助部門
- コストプールの有向グラフ化
- 多段階配賦

## 方針（Copilot Agent）

### 未着手

- **配賦基準集計（勤務表集計ツール）**
  - Domain層で配賦集計用のエンティティ（例：ent勤務表）を設計。
  - IO層でExcelリーダーの実装を行い、cmd層でツールとして組み込む。

- **原価要素および配賦ルール設定**
  - Domain層で原価要素、配賦ルールを管理するエンティティ（例：ent原価要素、ent配賦ルール）を作成。
  - Repositoryパターンを利用して、データアクセス（例：repo原価要素、repo配賦ルール）実装を計画。

- **コストセンター（コストプール）の一覧化**
  - Domain層に一覧化用エンティティを設計し、IO層でCSV/Excel入出力対応を実装。

- **製造部門、補助部門の管理**
  - 各部門に対応するエンティティをDomain層で定義し、部門間の連携やデータ連携方法を明確化。

- **コストプールの有向グラフ化**
  - 有向グラフとしてのデータ構造を設計し、各コストプール間の関係を表現するロジックを検討。
  - 必要なアルゴリズムとテスト設計を行い、実装プランを策定。

- **多段階配賦機能**
  - 各段階での計算ロジックおよび集計処理をDomain層で設計。
  - インターフェースやリポジトリ経由でデータアクセスを整理し、ユニットテストも実装する計画。

### 仕掛中

（現在進行中のタスクをここに記載）

### 完了

- **OrderedMapのテスト実装**
  - OrderedMap構造体の全メソッド（NewOrderedMap, Set, Get, Count, Keys, Values, Delete, Range）に対するテストケースを実装。
  - 挿入順序の保持、キーの更新、削除、範囲走査など、すべての機能のテストを実装。
  - テストカバレッジは100%達成。


